<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exploratory Data Analysis of Consumer Complaints (2011–2024)</title>
  <meta name="description" content="EDA of CFPB consumer complaints 2011‑2024 by Juan Camilo Sierra Escobar" />
  <meta name="author" content="Juan Camilo Sierra Escobar" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <!-- Shared stylesheet -->
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
<!-- ========= NAVBAR ========= -->
<header class="navbar">
  <div class="container" style="position: relative;">
    <h1>Camilo Sierra E.</h1>
    <nav class="nav-right">
      <a href="../index.html">Home</a>
      <a href="../index.html#about">About me</a>
      <a href="../index.html#projects">Projects</a>
      <a href="../index.html#contact">Contact</a>
      <a href="https://github.com/Deunich" target="_blank"><i class="fab fa-github"></i></a>
      <a href="https://www.linkedin.com/in/deunich" target="_blank"><i class="fab fa-linkedin"></i></a>
    </nav>
  </div>
</header>

<main class="container">
  <!-- ========= HERO ========= -->
  <section class="project-hero" style="margin-bottom:2rem; text-align:center;">
    <h2>Exploratory Data Analysis of Consumer Complaints from CFPB (2011–2024)</h2>
    <p style="font-size:0.95rem; margin-top:-0.3rem;">Juan Camilo Sierra Escobar · December 2024</p>
    <img src="../img/MapEEUU.png" alt="Heat map of CFPB complaints across the U.S." style="max-width:100%; border-radius:12px; margin:1.5rem 0;" />
    <p class="lead" style="font-size:1.1rem; max-width:800px; margin:auto;">
      Interactive exploration of 6.9 million complaints to uncover product hot‑spots, temporal surges, and state‑level patterns driving consumer dissatisfaction in the U.S. financial sector.
    </p>
  </section>

  <!-- ========= DETAILS ========= -->
  <section class="project-details" style="margin-bottom:3rem;">
    <h3>Overview</h3>
    <p>This Exploratory Data Analysis (EDA) examines <strong>6.9 million consumer complaints</strong> lodged with the CFPB from 2011 through 2024. It seeks to uncover <em>when</em>, <em>where</em>, and <em>why</em> U.S. consumers raise issues with financial institutions.</p>

    <h3>Library Installation</h3>
    <pre><code>install.packages(c(
  "readr", "dplyr", "ggplot2", "scales", "ggpubr",
  "gtsummary", "lubridate", "tidyverse", "usmap",
  "sf", "maps", "leaflet"))</code></pre>
    <p>Key packages enable data import (<code>readr</code>), wrangling (<code>dplyr</code>), visualisation (<code>ggplot2</code>), and mapping (<code>leaflet</code>, <code>usmap</code>).</p>

    <h3>Data Import & Transformation</h3>
    <pre><code>complaints <- read_csv("complaints.csv")
complaints <- complaints %>%
  rename(Date_received = `Date received`) %>%
  mutate(Date_received = as.Date(Date_received),
         Year  = year(Date_received),
         Month = month(Date_received, label = TRUE))</code></pre>
    <p>Standardising dates to <code>YYYY‑MM‑DD</code> allows monthly, quarterly, and yearly aggregations.</p>

    <h3>Grouping & Aggregation</h3>
    <pre><code># yearly counts
yearly <- complaints %>%
  count(Year, name = "Number_Complaints")</code></pre>
    <p>Similar logic produces monthly and quarterly counts, plus summaries by product and state.</p>

    <h3>Key Findings</h3>
    <ul>
      <li><strong>Credit Reporting</strong> remains the #1 complaint category (32 %).</li>
      <li><strong>Post‑2020 spike:</strong> total complaints doubled compared with pre‑pandemic levels.</li>
      <li><strong>Geographical hotspots:</strong> Florida, Texas, and California together generate 27 % of all complaints.</li>
    </ul>

    <h3>Visual Highlights</h3>
    <ul>
      <li><strong>Top 10 Product Categories</strong> – bar chart reveals data‑quality issues in credit reports as the dominant pain‑point.</li>
      <li><strong>Quarterly Trend (2011 Q4 – 2024 Q4)</strong> – steady rise then acceleration after 2020, likely tied to pandemic‑era financial stress.</li>
      <li><strong>Complaint Map</strong> – choropleth pinpoints states with systemic consumer‑finance challenges.</li>
    </ul>

    <figure style="margin:2rem auto; max-width:900px;">
      <img src="../img/top_product_categories.png" alt="Top complaint categories" style="width:100%; border-radius:8px; box-shadow:0 3px 8px rgba(0,0,0,0.12);" />
      <figcaption style="font-size:0.85rem;">Top 10 complaint categories (2011‑2024).</figcaption>
    </figure>

    <h3>Conclusions</h3>
    <p>The CFPB dataset highlights persistent issues in credit reporting and debt collection. Geographic analysis shows disproportionate complaint volumes in populous, financially complex states. The pronounced uptick post‑2020 underscores how economic shocks translate into consumer‑finance friction.</p>

    <h3>Credits</h3>
    <p>Analysis by Juan Camilo Sierra Escobar, December 2024. Data sourced from the Consumer Financial Protection Bureau (CFPB).</p>

    <h3>Repository</h3>
    <p><a href="https://github.com/Deunich/cfpb‑complaints‑eda" target="_blank">View full code on GitHub <i class="fa-solid fa-arrow-up-right-from-square"></i></a></p>
  </section>
</main>

<!-- ========= FOOTER ========= -->
<footer class="footer">
  <p>&copy; 2025 Juan Camilo Sierra Escobar – Master's Business Analyst</p>
</footer>

<!-- ========= Image modal (reuse) ========= -->
<div id="img-modal" class="modal">
  <span class="close">&times;</span>
  <img class="modal-content" id="modal-img" />
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const modal   = document.getElementById("img-modal");
    const modalImg= document.getElementById("modal-img");
    const closeBtn= document.querySelector(".close");
    document.querySelectorAll(".clickable-img").forEach(img => {
      img.addEventListener("click", () => {
        modal.style.display = "block";
        modalImg.src = img.dataset.img || img.src;
      });
    });
    closeBtn.onclick = () => (modal.style.display = "none");
    window.onclick   = e => { if (e.target === modal) modal.style.display = "none"; };
  });
</script>
</body>
</html>
